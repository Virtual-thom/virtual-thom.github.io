<!DOCTYPE html>
<html lang="fr">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="apple-touch-icon" href="https://virtual-thom.github.io/archives/apple-touch-icon.png">
  <link rel="icon" href="https://virtual-thom.github.io/archives/favicon.ico" />
  <!-- Remplacé par Jekyll SEO (sinon apparait en double)
  <title>Github Pages et Jekyll - On se met au vert !</title>
  <meta name="description" content="On change de vie et on plaque tout pour aller vivre à la campagne avec ma femme. Par conséquent, les billets se feront plus rares dans les prochains mois à v...">
  --> 
  
  <link rel="canonical" href="https://virtual-thom.github.io/archives/github-pages-jekyll-refonte/">
  
  <link rel="stylesheet" media="screen" href="https://virtual-thom.github.io/archives/assets/main.css">
  
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Github Pages et Jekyll - On se met au vert ! | Virtual-Thom Blog-notes VTOM et informatique</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Github Pages et Jekyll - On se met au vert !" />
<meta name="author" content="Virtual Thom" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="On change de vie et on plaque tout pour aller vivre à la campagne avec ma femme. Par conséquent, les billets se feront plus rares dans les prochains mois à venir. C’est l’occasion pour moi de modifier deux, trois trucs sur le site (en vert forcément) et de vous proposer d’écrire des articles (VTOM) en tant que collaborateur de mon repo github (partie _posts). Très facile, en Markdown, si ça dit quelqu’un, n’hésitez pas, on regarde ça ensemble ;) Je sais notamment que la v6.4 contient son lot de nouveautés et (le truc de fou) les API SOUTENUES ET DOCUMENTéES !!! enfin Et ça serait bien d’y consacrer un article ! Tout le code source du site est ici : github-pages jekyll du blog https://github.com/virtual-thom" />
<meta property="og:description" content="On change de vie et on plaque tout pour aller vivre à la campagne avec ma femme. Par conséquent, les billets se feront plus rares dans les prochains mois à venir. C’est l’occasion pour moi de modifier deux, trois trucs sur le site (en vert forcément) et de vous proposer d’écrire des articles (VTOM) en tant que collaborateur de mon repo github (partie _posts). Très facile, en Markdown, si ça dit quelqu’un, n’hésitez pas, on regarde ça ensemble ;) Je sais notamment que la v6.4 contient son lot de nouveautés et (le truc de fou) les API SOUTENUES ET DOCUMENTéES !!! enfin Et ça serait bien d’y consacrer un article ! Tout le code source du site est ici : github-pages jekyll du blog https://github.com/virtual-thom" />
<link rel="canonical" href="https://virtual-thom.github.io/archives/github-pages-jekyll-refonte/" />
<meta property="og:url" content="https://virtual-thom.github.io/archives/github-pages-jekyll-refonte/" />
<meta property="og:site_name" content="Virtual-Thom Blog-notes VTOM et informatique" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-14T09:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Github Pages et Jekyll - On se met au vert !" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Virtual Thom"},"dateModified":"2020-03-14T09:00:00+00:00","datePublished":"2020-03-14T09:00:00+00:00","description":"On change de vie et on plaque tout pour aller vivre à la campagne avec ma femme. Par conséquent, les billets se feront plus rares dans les prochains mois à venir. C’est l’occasion pour moi de modifier deux, trois trucs sur le site (en vert forcément) et de vous proposer d’écrire des articles (VTOM) en tant que collaborateur de mon repo github (partie _posts). Très facile, en Markdown, si ça dit quelqu’un, n’hésitez pas, on regarde ça ensemble ;) Je sais notamment que la v6.4 contient son lot de nouveautés et (le truc de fou) les API SOUTENUES ET DOCUMENTéES !!! enfin Et ça serait bien d’y consacrer un article ! Tout le code source du site est ici : github-pages jekyll du blog https://github.com/virtual-thom","headline":"Github Pages et Jekyll - On se met au vert !","mainEntityOfPage":{"@type":"WebPage","@id":"https://virtual-thom.github.io/archives/github-pages-jekyll-refonte/"},"url":"https://virtual-thom.github.io/archives/github-pages-jekyll-refonte/"}</script>
<!-- End Jekyll SEO tag -->

  
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z8Y7902GRV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z8Y7902GRV');
</script>


  <body>
    <div class="container">
      <header id="site-header">
  <h1>Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps</h1>
  <nav>
    <ul>
      <li>
        <a href="https://virtual-thom.github.io/archives" title="Home">
          <svg class="svg-icon" viewBox="0 0 20 20">
            <path d="M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"></path>
          </svg>
        </a>
      </li>
      <li>
        <a href="https://virtual-thom.github.io/archives/vos-commentaires-livre-d-or/" title="Commentaires - livre d'or">
          <svg class="svg-icon" viewBox="0 0 20 20">
            <path d="M17.657,2.982H2.342c-0.234,0-0.425,0.191-0.425,0.426v10.21c0,0.234,0.191,0.426,0.425,0.426h3.404v2.553c0,0.397,0.48,0.547,0.725,0.302l2.889-2.854h8.298c0.234,0,0.426-0.191,0.426-0.426V3.408C18.083,3.174,17.892,2.982,17.657,2.982M17.232,13.192H9.185c-0.113,0-0.219,0.045-0.3,0.124l-2.289,2.262v-1.96c0-0.233-0.191-0.426-0.425-0.426H2.767V3.833h14.465V13.192z M10,7.237c-0.821,0-1.489,0.668-1.489,1.489c0,0.821,0.668,1.489,1.489,1.489c0.821,0,1.488-0.668,1.488-1.489C11.488,7.905,10.821,7.237,10,7.237 M10,9.364c-0.352,0-0.638-0.288-0.638-0.638c0-0.351,0.287-0.638,0.638-0.638c0.351,0,0.638,0.287,0.638,0.638C10.638,9.077,10.351,9.364,10,9.364 M14.254,7.237c-0.821,0-1.489,0.668-1.489,1.489c0,0.821,0.668,1.489,1.489,1.489s1.489-0.668,1.489-1.489C15.743,7.905,15.075,7.237,14.254,7.237 M14.254,9.364c-0.351,0-0.638-0.288-0.638-0.638c0-0.351,0.287-0.638,0.638-0.638c0.352,0,0.639,0.287,0.639,0.638C14.893,9.077,14.605,9.364,14.254,9.364 M5.746,7.237c-0.821,0-1.489,0.668-1.489,1.489c0,0.821,0.668,1.489,1.489,1.489c0.821,0,1.489-0.668,1.489-1.489C7.234,7.905,6.566,7.237,5.746,7.237 M5.746,9.364c-0.351,0-0.638-0.288-0.638-0.638c0-0.351,0.287-0.638,0.638-0.638c0.351,0,0.638,0.287,0.638,0.638C6.384,9.077,6.096,9.364,5.746,9.364"></path>
          </svg>
        </a>
      </li>
      
      <li>
        <a href="https://virtual-thom.github.io/about" title="Curriculum Vitae Thom">
          <svg class="svg-icon" viewBox="0 0 20 20">
            <path d="M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z"></path>
          </svg>
        </a>
      </li>
    </ul>
  </nav>
</header>

      <div itemscope itemtype ="http://schema.org/Article" class="post">
  
  <header class="post-header">
    <h1 itemprop="name about headline" class="post-title">Github Pages et Jekyll - On se met au vert !</h1>
    <p class="post-meta">
      <time itemprop="datePublished dateModified" datetime="2020-03-14T09:00:00+00:00">14-03-2020</time></p>
  </header>

  <article class="post-content" itemprop="articleBody">
    <h1 class="hidden">Github Pages et Jekyll - On se met au vert !</h1>
    <p>On change de vie et on plaque tout pour aller vivre à la campagne avec ma femme. Par conséquent, les billets se feront plus rares dans les prochains mois à venir.</p>

<p>C’est l’occasion pour moi de modifier deux, trois trucs sur le site (en vert forcément) et de vous proposer d’écrire des articles (VTOM) en tant que collaborateur de mon repo github (partie _posts).<br />
Très facile, en <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown</a>, si ça dit quelqu’un, n’hésitez pas, on regarde ça ensemble ;)</p>

<p>Je sais notamment que la v6.4 contient son lot de nouveautés et (le truc de fou) les API SOUTENUES ET DOCUMENTéES !!! enfin<br />
Et ça serait bien d’y consacrer un article !</p>

<p>Tout le code source du site est ici : <a href="https://github.com/virtual-thom">github-pages jekyll du blog https://github.com/virtual-thom</a></p>

<!--more-->

<h1 id="installer-jekyll-sur-pc-avec-wsl-linux-sous-windows-10">Installer Jekyll sur PC avec WSL (linux sous Windows 10)</h1>
<p>Pour plus de détails sur comment installer Jekyll sur son Windows 10 : <a href="https://scottdorman.blog/2019/02/27/running-jekyll-on-wsl/">Billet de ScottDorman</a>. Pour ma part, il m’a fallu rajouter ces deux modules pour que le bundle install fonctionne :  <code class="language-plaintext highlighter-rouge">sudo apt install zlib1g-dev ruby-dev</code></p>

<p>et pour résumer :</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Powershell en admin
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
# reboot
# Powershell en admin
wsl
sudo apt update
sudo apt upgrade
sudo apt install ruby zlib1g-dev ruby-dev build-essential
sudo gem install bundler
cd rep_source_jekyll/
bundle install --path vendor/bundle
# rajouter du coup ce path dans .gitignore
# vendor/
# .bundle
# rajouter aussi ce path dans exclude du _config.yml ...
# exclude: [...blabla, "vendor"]
bundle exec jekyll serve
# si vous avez ce message : jekyll 3.8.5 | Error:  wrong number of arguments (given 2, expected 1)
# un fix consiste à installer un autre gem module à l'heure où j'écris ces lignes dans Gemfile : gem "sprockets", "~&gt; 3.7", puis `bundle update` et refaire un `bundle exec jekyll servce --trace`
</code></pre></div></div>

<h1 id="les-fichiers-importants-pour-github-pages-et-jekyll">les fichiers “importants” pour <a href="https://jekyllrb.com/docs/github-pages/">github-pages et jekyll</a></h1>
<p>Gemfile</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">source</span> <span class="s1">'https://rubygems.org'</span>
<span class="nb">require</span> <span class="s1">'json'</span>
<span class="nb">require</span> <span class="s1">'open-uri'</span>
<span class="n">versions</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">'https://pages.github.com/versions.json'</span><span class="p">).</span><span class="nf">read</span><span class="p">)</span>

<span class="n">gem</span> <span class="s1">'github-pages'</span><span class="p">,</span> <span class="n">versions</span><span class="p">[</span><span class="s1">'github-pages'</span><span class="p">]</span>
<span class="n">gem</span> <span class="s2">"jekyll-assets"</span><span class="p">,</span> <span class="ss">group: :jekyll_plugins</span>
</code></pre></div></div>

<p>_config.yml</p>
<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Site settings</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Virtual Thom | Blog-notes VTOM et informatique</span>
<span class="na">email</span><span class="pi">:</span> <span class="s">virtual-thom@protonmail.com</span>
<span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Blog-notes</span><span class="nv"> </span><span class="s">VTOM,</span><span class="nv"> </span><span class="s">informatique,</span><span class="nv"> </span><span class="s">industrialisation,</span><span class="nv"> </span><span class="s">ordonnancement,</span><span class="nv"> </span><span class="s">DevOps"</span>
<span class="na">baseurl</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span> <span class="c1"># the subpath of your site, e.g. /blog/</span>
<span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://virtual-thom.github.io/archives"</span> <span class="c1"># the base hostname &amp; protocol for your site</span>
<span class="na">github_username</span><span class="pi">:</span>  <span class="s">Virtual-thom</span>
<span class="na">github_url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://github.com/virtual-thom"</span>
<span class="na">permalink</span><span class="pi">:</span> <span class="s">/:title/</span>

<span class="c1">#timezone: FR</span>
<span class="c1">#locale: fr_FR</span>

<span class="c1"># Build settings</span>
<span class="na">markdown_ext</span><span class="pi">:</span> <span class="s2">"</span><span class="s">markdown,mkdown,mkdn,mkd,md"</span>
<span class="na">markdown</span><span class="pi">:</span> <span class="s">kramdown</span>

<span class="na">kramdown</span><span class="pi">:</span>
  <span class="na">input</span><span class="pi">:</span> <span class="s">GFM</span>
  
<span class="na">highlighter</span><span class="pi">:</span> <span class="s">rouge</span>
  
<span class="na">include</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">.htaccess"</span><span class="pi">]</span>
<span class="na">exclude</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">bower.json"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">package.json"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">node_modules"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">Gemfile"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">Gemfile.lock"</span><span class="pi">,</span><span class="s2">"</span><span class="s">_build"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">vendor"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">.bundle"</span><span class="pi">]</span>

<span class="na">excerpt_separator</span><span class="pi">:</span> <span class="s1">'</span><span class="s">&lt;!--more--&gt;'</span>

<span class="na">paginate</span><span class="pi">:</span> <span class="m">30</span>

<span class="na">compression</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">gzip</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">sass</span><span class="pi">:</span>
  <span class="na">style</span><span class="pi">:</span> <span class="s">compressed</span>
  <span class="na">sass_dir</span><span class="pi">:</span> <span class="s">_sass</span>

<span class="na">plugins</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">jekyll-sitemap</span>
  <span class="pi">-</span> <span class="s">jekyll-paginate</span>
  <span class="pi">-</span> <span class="s">jekyll-redirect-from</span>
  <span class="pi">-</span> <span class="s">jekyll-coffeescript</span>
  <span class="pi">-</span> <span class="s">jemoji</span>
  <span class="pi">-</span> <span class="s">jekyll-seo-tag</span>
</code></pre></div></div>

<p>Les articles se trouvent dans _posts/</p>

<p>Le nom doit être sous la forme : yyyy-mm-jj-mots-cles.md</p>

<p>ex. d’un post :</p>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">post</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Github Pages et Jekyll - On se met au vert !</span>
<span class="na">date</span><span class="pi">:</span> <span class="s">2020-03-14 09:00</span>
<span class="na">author</span><span class="pi">:</span> <span class="s">Virtual Thom</span>
<span class="na">comments</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">categories</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">github-pages</span><span class="pi">,</span> <span class="nv">jekyll</span><span class="pi">]</span>
<span class="nn">---</span>
blabla
</code></pre></div></div>

<p>Le simple fait de commit va redéployer le site.</p>

<h1 id="les-ptits-trucs-sympas">Les p’tits trucs sympas</h1>
<p>Dans <a href="https://jekyllrb.com/docs/datafiles/">_data</a>, on peut mettre des info’s “stockées” dans des json ou yml, genre database.<br />
Après, on y accède facilement dans les articles .md avec les moustaches .</p>

<p>Avoir des commentaires sur un site statique pour toutes les pages/articles (mettre un permalink: /:title/ dans _config.yml ) : <a href="https://disqus.com/">https://disqus.com/</a>.</p>

  </article>
  
<nav>
  <ul class="pager">
    
     
    <li class="previous">
      <a href="https://virtual-thom.github.io/archives/netlify-deploiement-continu/"><span aria-hidden="true">&larr;</span> Netlify déploiement continu gratuit</a> 
    </li>
    
     
     <li class="next">
      <a class="next" href="https://virtual-thom.github.io/archives/dev-chromebook-docker-wordpress/">On dev un site wordpress sur chromebook (docker sur linux béta de chromebook) <span aria-hidden="true">&rarr;</span></a> 
    </li>
     
    
  </ul>
</nav>


  <footer class="post-footer">
    
      
        <a itemprop="articleSection" class="btn btn-default btn-xs btn-categories" href="https://virtual-thom.github.io/archives"><span class="glyphicon glyphicon-asterisk"></span>github-pages</a>
      
        <a itemprop="articleSection" class="btn btn-default btn-xs btn-categories" href="https://virtual-thom.github.io/archives"><span class="glyphicon glyphicon-asterisk"></span>jekyll</a>
      
    
    <span  itemprop="author publisher" class="hidden">Virtual Thom</span>
  </footer>
  
  <div id="disqus_thread" ></div>
  <script>
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'thomas-asnar'; // required: replace example with your forum shortname
  
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
</div>

      <footer id="site-footer">
    <div>&copy;<a href="https://github.com/virtual-thom/" title="Github Virtual-Thom">Virtual-Thom</a></div>
    <div>
            <a href="https://virtual-thom.github.io/archives/plan" title="Plan du site">sitemap</a> | <a href="https://virtual-thom.github.io/about" rel="publisher author" title="Curriculum vitae Thom">A propos</a>
    </div>
    <div>
        <a id="goto-site-header" href="#site-header" title="Retourner au début">&uArr; Top</a>
    </div>
    <div id="footer-disclaimer">
        <p>Avertissement : vous ne devez pas prendre pour argent comptant le contenu de ce site. Testez toujours la solution en environnement de test.</p>
        <p>Malgré le sérieux que je m'efforce de mettre dans le contenu de ces billets, je ne pourrai être tenu responsable d'éventuelles erreurs que cela pourrait engendrer.</p>
    </div>
    <div>
        <a class="hidden" href="https://virtual-thom.github.io/archives/sitemap.xml" title="SiteMap">sitemap</a>
    </div>
</footer>

    </div>
  </body>

</html>