<!DOCTYPE html>
<html lang="fr">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="apple-touch-icon" href="https://virtual-thom.github.io/archives/apple-touch-icon.png">
  <link rel="icon" href="https://virtual-thom.github.io/archives/favicon.ico" />
  <!-- Remplacé par Jekyll SEO (sinon apparait en double)
  <title>Virtual-Thom | Blog-notes VTOM et informatique</title>
  <meta name="description" content="Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps">
  --> 
  
  <link rel="canonical" href="https://virtual-thom.github.io/archives/page7/">
  
  <link rel="stylesheet" media="screen" href="https://virtual-thom.github.io/archives/assets/main.css">
  
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Page 7 of 14 for Virtual-Thom Blog-notes VTOM et informatique | Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Virtual-Thom Blog-notes VTOM et informatique" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps" />
<meta property="og:description" content="Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps" />
<link rel="canonical" href="https://virtual-thom.github.io/archives/page7/" />
<meta property="og:url" content="https://virtual-thom.github.io/archives/page7/" />
<meta property="og:site_name" content="Virtual-Thom Blog-notes VTOM et informatique" />
<meta property="og:type" content="website" />
<link rel="prev" href="https://virtual-thom.github.io/archives/page6" />
<link rel="next" href="https://virtual-thom.github.io/archives/page8" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Virtual-Thom Blog-notes VTOM et informatique" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps","headline":"Virtual-Thom Blog-notes VTOM et informatique","url":"https://virtual-thom.github.io/archives/page7/"}</script>
<!-- End Jekyll SEO tag -->

  
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z8Y7902GRV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z8Y7902GRV');
</script>


  <body>
    <div class="container">
      <header id="site-header">
  <h1>Blog-notes VTOM, informatique, industrialisation, ordonnancement, DevOps</h1>
  <nav>
    <ul>
      <li>
        <a href="https://virtual-thom.github.io/archives" title="Home">
          <svg class="svg-icon" viewBox="0 0 20 20">
            <path d="M18.121,9.88l-7.832-7.836c-0.155-0.158-0.428-0.155-0.584,0L1.842,9.913c-0.262,0.263-0.073,0.705,0.292,0.705h2.069v7.042c0,0.227,0.187,0.414,0.414,0.414h3.725c0.228,0,0.414-0.188,0.414-0.414v-3.313h2.483v3.313c0,0.227,0.187,0.414,0.413,0.414h3.726c0.229,0,0.414-0.188,0.414-0.414v-7.042h2.068h0.004C18.331,10.617,18.389,10.146,18.121,9.88 M14.963,17.245h-2.896v-3.313c0-0.229-0.186-0.415-0.414-0.415H8.342c-0.228,0-0.414,0.187-0.414,0.415v3.313H5.032v-6.628h9.931V17.245z M3.133,9.79l6.864-6.868l6.867,6.868H3.133z"></path>
          </svg>
        </a>
      </li>
      <li>
        <a href="https://virtual-thom.github.io/archives/vos-commentaires-livre-d-or/" title="Commentaires - livre d'or">
          <svg class="svg-icon" viewBox="0 0 20 20">
            <path d="M17.657,2.982H2.342c-0.234,0-0.425,0.191-0.425,0.426v10.21c0,0.234,0.191,0.426,0.425,0.426h3.404v2.553c0,0.397,0.48,0.547,0.725,0.302l2.889-2.854h8.298c0.234,0,0.426-0.191,0.426-0.426V3.408C18.083,3.174,17.892,2.982,17.657,2.982M17.232,13.192H9.185c-0.113,0-0.219,0.045-0.3,0.124l-2.289,2.262v-1.96c0-0.233-0.191-0.426-0.425-0.426H2.767V3.833h14.465V13.192z M10,7.237c-0.821,0-1.489,0.668-1.489,1.489c0,0.821,0.668,1.489,1.489,1.489c0.821,0,1.488-0.668,1.488-1.489C11.488,7.905,10.821,7.237,10,7.237 M10,9.364c-0.352,0-0.638-0.288-0.638-0.638c0-0.351,0.287-0.638,0.638-0.638c0.351,0,0.638,0.287,0.638,0.638C10.638,9.077,10.351,9.364,10,9.364 M14.254,7.237c-0.821,0-1.489,0.668-1.489,1.489c0,0.821,0.668,1.489,1.489,1.489s1.489-0.668,1.489-1.489C15.743,7.905,15.075,7.237,14.254,7.237 M14.254,9.364c-0.351,0-0.638-0.288-0.638-0.638c0-0.351,0.287-0.638,0.638-0.638c0.352,0,0.639,0.287,0.639,0.638C14.893,9.077,14.605,9.364,14.254,9.364 M5.746,7.237c-0.821,0-1.489,0.668-1.489,1.489c0,0.821,0.668,1.489,1.489,1.489c0.821,0,1.489-0.668,1.489-1.489C7.234,7.905,6.566,7.237,5.746,7.237 M5.746,9.364c-0.351,0-0.638-0.288-0.638-0.638c0-0.351,0.287-0.638,0.638-0.638c0.351,0,0.638,0.287,0.638,0.638C6.384,9.077,6.096,9.364,5.746,9.364"></path>
          </svg>
        </a>
      </li>
      
      <li>
        <a href="https://virtual-thom.github.io/about" title="Curriculum Vitae Thom">
          <svg class="svg-icon" viewBox="0 0 20 20">
            <path d="M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z"></path>
          </svg>
        </a>
      </li>
    </ul>
  </nav>
</header>

      <nav>
  <ul class="pagination">
    
    <li>
      <a href="/page6" class="Précédant">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
      
    <li>
      <a href="/archives/index.html">1</a>
    </li>
      
    <li>
      <a
        href="/archives/page2">2</a>
    </li>
      
    <li>
      <a
        href="/archives/page3">3</a>
    </li>
      
    <li>
      <a
        href="/archives/page4">4</a>
    </li>
      
    <li>
      <a
        href="/archives/page5">5</a>
    </li>
      
    <li>
      <a
        href="/archives/page6">6</a>
    </li>
      
    <li class="active">
      <span>7</span>
    </li>
      
    <li>
      <a
        href="/archives/page8">8</a>
    </li>
      
    <li>
      <a
        href="/archives/page9">9</a>
    </li>
      
    <li>
      <a
        href="/archives/page10">10</a>
    </li>
      
    <li>
      <a
        href="/archives/page11">11</a>
    </li>
      
    <li>
      <a
        href="/archives/page12">12</a>
    </li>
      
    <li>
      <a
        href="/archives/page13">13</a>
    </li>
      
    <li>
      <a
        href="/archives/page14">14</a>
    </li>
      
    <li>
      <a href="/page8" aria-label="Suivant">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    
  </ul>
</nav>
<ul class="post-list post-list-with-type">
  
  <li>
    <a class="post-link" href="/archives/weblogic-nom-complet-processus/">Lister les processus java weblogic</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/je-suis-vtom/">Je suis VTOM</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/personal-port-rc-ports-de-maintenance/">Port de maintenance .personalport_rc</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/variables-environnement-avec-vtom/">Les variables d'environnement avec VTOM</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/filtre-xsl-vtexport-xml/">Ultimate tlist filter VTOM ! Filtre XSL du vtexport XML</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/html-mail-anchor-link-id-name-outlook/">Anchor lien id name dans un mail HTML Outlook</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/formules-excel/">Formules excel</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/faq-date-december/">FAQ VTOM Dates - Dec</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/status-vtexport/">Statuts dans le vtexport</a>
  </li>
  
  <li>
    <a class="post-link" href="/archives/curl-sftp-avec-mot-de-passe/">Curl sftp avec mot de passe</a>
  </li>
  
</ul>


<div id="page-first-post">

  <div itemscope itemtype="http://schema.org/Article" class="post">

    <article class="post-content" itemprop="articleBody">
      <h1 itemprop="name about headline" class="post-title">Lister les processus java weblogic</h1>
      <h3 id="mise-à-jour-120617-pour-windows">Mise à jour 12/06/17 pour Windows</h3>

<pre><code class="language-cmd">WMIC PROCESS WHERE (name="java.exe") get CommandLine 
ou
jps
</code></pre>

<p>De visu’ aussi avec le task manager :</p>

<p><img src="https://virtual-thom.github.io/archives/wp-content/uploads/process_java_windows_taskmgr.jpg" alt="process_java_windows_taskmg" /></p>

<p>Petite astuce pour lister les processus java weblogic, avec le nom de l’application. 
En effet, un simple <code class="language-plaintext highlighter-rouge">ps -ef</code> ne vous donnera, bien souvent, qu’une ligne tronquée ne contenant pas toutes les informations que vous aimeriez.</p>

<h2 id="première-solution--ucb-ps--aux">Première solution : ucb ps -aux</h2>

<p>si vous avez ce binaire, le fameux /usr/ucb/ps -auxwww.</p>

<h2 id="deuxième-solution--pargs">Deuxième solution : pargs</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># On fait un simple ps et on récupère les PID des process grepés (ici par exemple, les processus java lancés par l'utilisateur webadm</span>
<span class="c"># Ensuite on passe ce PID dans pargs -l pour les détails</span>
ps <span class="nt">-ef</span> | <span class="nb">grep </span>java | <span class="nb">grep </span>webadm | <span class="k">while </span><span class="nb">read </span>line<span class="p">;</span> <span class="k">do </span>pargs <span class="nt">-l</span> <span class="si">$(</span><span class="nb">echo</span> <span class="nv">$line</span> | <span class="nb">awk</span> <span class="s1">'{print $2}'</span><span class="si">)</span> 2&gt; /dev/null <span class="p">;</span> <span class="k">done</span>
</code></pre></div></div>

<h2 id="troisième-solution--procpidcmdline">Troisième solution : /proc/pid/cmdline</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/proc/&lt;pid&gt;/cmdline

# attention si on fait du grep sur du binary file comme dans /proc il faut utiliser l'option --text ou -a
egrep --color --text "pattern" /proc/&lt;pid&gt;/cmdline
</code></pre></div></div>

<h2 id="pid-job-en-cours-dans-vtom">pid job en cours dans VTOM</h2>

<p>Petit truc sympa pour voir les process tree des jobs en cours sur un client VTOM :</p>

<ul>
  <li>ls des fichiers dans ABM_SPOOL, on grep ceux qui ont un process inscrit (différent de 0, car ceux-là sont dans la queue d’attente)</li>
  <li>le 4ème champ représente le PID du job (on fait un ps tree dessus)</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/vtom/abm/spool$ for id in $(ls -1) ; do grep -w $id $ABM_SPOOL/* | awk '$4 != 0{system("ps -o args -T "$4);}' ; done
COMMAND
-ksh /usr/vtom/admin/tom_submit.ksh
    \--/bin/ksh /home/vtom/PATH_DWH_SHELL/OSEFBIS_010_M105_ETI_odi.ksh
        \--/bin/ksh /tech/ODIXXX/tools/startjob.ksh OSEFBIS_010_M105_ETI_odi OSEFBIS_010_M_ETI_105 -1 GLOBAL.G_JDBC_INSTANCE=USID1 GLOBAL.G_JDBC_PASSWORD= G
            \--/bin/sh /tech/ODIXXX/oracledi/agent/bin/startscen.sh OSEFBIS_010_M_ETI_105 -1 CTX_UTI_VARIABLE -name=AGT11_UTI_SERVXXXX -KEYWORDS=UU1DC002
                \--/usr/java6_64/jre/bin/java -Xms128m -Xmx256m -Djava.security.policy=server.policy -Doracle.security.jps.config=./jps-config.xml -DO
COMMAND
-ksh /usr/vtom/admin/tom_submit.ksh
    \--/bin/ksh /home/vtom/PATH_DWH_SHELL/OSEF_010_M501_odi.ksh
        \--/bin/ksh /tech/ODIXXX/tools/startjob.ksh OSEF_010_M501_odi OSEF_010_M_EXTR_FLUX_CRDT_501 -1 GLOBAL.G_JDBC_INSTANCE=USID1 GLOBAL.G_JDBC_PASS
            \--/bin/sh /tech/ODIXXX/oracledi/agent/bin/startscen.sh OSEF_010_M_EXTR_FLUX_CRDT_501 -1 CTX_UTI_VARIABLE -name=AGT11_UTI_SERVXXXX -KEYWOR
                \--/usr/java6_64/jre/bin/java -Xms128m -Xmx256m -Djava.security.policy=server.policy -Doracle.security.jps.config=./jps-config.xml -DO
COMMAND
-ksh /usr/vtom/admin/tom_submit.ksh
    \--/bin/ksh /home/vtom/PATH_DWH_SHELL/OSEF_020_M005_odi.ksh
        \--/bin/ksh /tech/ODIXXX/tools/startjob.ksh OSEF_020_M005_odi OSEF_020_M_MFP_FLUX_CRDT_005 -1 GLOBAL.G_JDBC_INSTANCE=USID1 GLOBAL.G_JDBC_PASSW
            \--/bin/sh /tech/ODIXXX/oracledi/agent/bin/startscen.sh OSEF_020_M_MFP_FLUX_CRDT_005 -1 CTX_UTI_VARIABLE -name=AGT11_UTI_SERVXXXX -KEYWORD
                \--/usr/java6_64/jre/bin/java -Xms128m -Xmx256m -Djava.security.policy=server.policy -Doracle.security.jps.config=./jps-config.xml -DO
COMMAND
-ksh /usr/vtom/admin/tom_submit.ksh
    \--/bin/ksh /home/vtom/PATH_DWH_SHELL/OSEF_010_M601_odi.ksh
        \--/bin/ksh /tech/ODIXXX/tools/startjob.ksh OSEF_010_M601_odi OSEF_010_M_EXTR_PALR_CRDT_601 -1 GLOBAL.G_JDBC_INSTANCE=USID1 GLOBAL.G_JDBC_PASS
            \--/bin/sh /tech/ODIXXX/oracledi/agent/bin/startscen.sh OSEF_010_M_EXTR_PALR_CRDT_601 -1 CTX_UTI_VARIABLE -name=AGT11_UTI_SERVXXXX -KEYWOR
                \--/usr/java6_64/jre/bin/java -Xms128m -Xmx256m -Djava.security.policy=server.policy -Doracle.security.jps.config=./jps-config.xml -DO
COMMAND
-ksh /usr/vtom/admin/tom_submit.ksh
    \--/bin/ksh /home/vtom/PATH_DWH_SHELL/OSEF_010_M502_odi.ksh
        \--/bin/ksh /tech/ODIXXX/tools/startjob.ksh OSEF_010_M502_odi OSEF_010_M_EXTR_FLUX_NAFI_502 -1 GLOBAL.G_JDBC_INSTANCE=USID1 GLOBAL.G_JDBC_PASS
            \--/bin/sh /tech/ODIXXX/oracledi/agent/bin/startscen.sh OSEF_010_M_EXTR_FLUX_NAFI_502 -1 CTX_UTI_VARIABLE -name=AGT11_UTI_SERVXXXX -KEYWOR
                \--/usr/java6_64/jre/bin/java -Xms128m -Xmx256m -Djava.security.policy=server.policy -Doracle.security.jps.config=./jps-config.xml -DO
</code></pre></div></div>

      (voir plus)
      <a class="post-link" href="/archives/weblogic-nom-complet-processus/">Lister les processus java weblogic</a>
      <p class="post-meta">
        <time class="post-meta" itemprop="datePublished dateModified"
          datetime="2017-06-12T21:10:00+00:00">12-06-2017</time>
      </p>
    </article>
  </div>
</div>




















<ul class="post-list">
  
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/je-suis-vtom/">Je suis VTOM</a></h4>
      <p><p><img src="https://virtual-thom.github.io/archives/wp-content/uploads/je_suis_vtom.png" alt="Je Suis VTOM" /></p>

<p>#craquage</p>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/personal-port-rc-ports-de-maintenance/">Port de maintenance .personalport_rc</a></h4>
      <p><p>You know <code class="language-plaintext highlighter-rouge">.personalport_rc</code> ? moi non plus, jusqu’à il y a peu de temps.</p>

<p>C’est bien pratique pour :</p>
<ul>
  <li>mettre temporairement les ports des services VTOM en maintenance</li>
  <li>avoir plusieurs installations VTOM sur un seul serveur</li>
</ul>

<h2 id="how-">How ?!</h2>

<p>Il est à placer dans le répertoire home du user d’admin vtom.</p>

<p>On fait correspondre les ports :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ports]
vtserver:&lt;le nom que je veux que j'aurais mis dans /etc/services&gt;
vtsgbd:&lt;le nom que je veux que j'aurais mis dans /etc/services&gt;

etc etc pour tous les ports VTOM que je veux
</code></pre></div></div>

<h3 id="exemple--ports-de-maintenance">Exemple : ports de maintenance</h3>

<p>J’ai un serveur VTOM classique, les ports sont :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ---------------------
# Demons tcp Visual TOM
# ---------------------
tomDBd 30001/tcp
bdaemon 30004/tcp
vtserver 30007/tcp
vtnotifier 30008/tcp
vtsgbd 30009/tcp
vthttpd 30080/tcp
vtmanager 30000/tcp
</code></pre></div></div>

<p>Je veux passer mon serveur en maintenance (pour que personne ne s’y connecte par exemple). Je rajoute cette ligne dans <code class="language-plaintext highlighter-rouge">/etc/services</code> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vtserverm 30107/tcp # port de maintenance vtom
</code></pre></div></div>

<p>Je prépare 2 fichiers .personalport_rc.origin et .personalport_rc.maint (les noms n’ont pas d’importance) :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~vtom/.personalport_rc.origin et je fais correspondre le vtserver au service d'origine vtserver
[ports]
vtserver:vtserver
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~vtom/.personalport_rc.maint et je fais correspondre le vtserver au service de maintenance vtserverm qui pointe sur un port différent
[ports]
vtserver:vtserverm
</code></pre></div></div>

<p>Le plus évident pour bien voir que ça fonctionne, c’est la commande <code class="language-plaintext highlighter-rouge">vtping</code>.</p>

<p>En temps normal, <code class="language-plaintext highlighter-rouge">vtping</code> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vtom@cedfc0a2778f:~$ vtping
[serveur locaux (172.17.0.2)]
vtsgbd     vtsgbd:30009     actif
vtserver   vtserver:30007   actif
vtnotifier vtnotifier:30008 actif
dserver    tomDBd:30001     actif
vtmanager  vtmanager:30000  arrete
bdaemon    bdaemon:30004    arrete
vthttpd    vthttpd:30080    actif

[moteurs]
tengine    exploitation             arrete
...
</code></pre></div></div>

<p>Par exemple, je copie <code class="language-plaintext highlighter-rouge">~vtom/.personalport_rc.maint</code> sur <code class="language-plaintext highlighter-rouge">~vtom/.personalport_rc</code>, je fais <code class="language-plaintext highlighter-rouge">vtping</code> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>je vois que le vtserver a bien été pris en compte avec le port de maintenance
vtom@cedfc0a2778f:~$ vtping
[serveur locaux (172.17.0.2)]
vtsgbd     vtsgbd:30009     actif
vtserver   vtserver:30107   arrete
vtnotifier vtnotifier:30008 actif
dserver    tomDBd:30001     actif
vtmanager  vtmanager:30000  arrete
bdaemon    bdaemon:30004    arrete
vthttpd    vthttpd:30080    actif
</code></pre></div></div>

<p>En gros, lors de mes phases de maintenance :</p>

<ul>
  <li>j’arrête le serveur VTOM <code class="language-plaintext highlighter-rouge">stop_servers</code></li>
  <li>je copie le <code class="language-plaintext highlighter-rouge">~vtom/.personalport_rc.maint</code> sur <code class="language-plaintext highlighter-rouge">~vtom/.personalport_rc</code></li>
  <li>je démarre le serveur VTOM <code class="language-plaintext highlighter-rouge">start_servers</code></li>
  <li>je fais mes opérations de maintenance</li>
  <li>j’arrête le serveur VTOM <code class="language-plaintext highlighter-rouge">stop_servers</code></li>
  <li>je copie le <code class="language-plaintext highlighter-rouge">~vtom/.personalport_rc.origin</code> sur <code class="language-plaintext highlighter-rouge">~vtom/.personalport_rc</code></li>
  <li>je démarre le serveur VTOM <code class="language-plaintext highlighter-rouge">start_servers</code></li>
</ul>

<h3 id="exemple--plusieurs-installations-vtom-sur-un-même-serveur">Exemple : plusieurs installations VTOM sur un même serveur</h3>

<p>J’ai une installation classique avec un user vtom. J’ai les services classiques dans <code class="language-plaintext highlighter-rouge">/etc/services</code> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ---------------------
# Demons tcp Visual TOM
# ---------------------
tomDBd 30001/tcp
bdaemon 30004/tcp
vtserver 30007/tcp
vtnotifier 30008/tcp
vtsgbd 30009/tcp
vthttpd 30080/tcp
vtmanager 30000/tcp
</code></pre></div></div>

<p>J’installe un autre serveur VTOM sur le même serveur avec le user <code class="language-plaintext highlighter-rouge">vtomd</code> par exemple :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># pour mieux me repérer je mets le même nom de service qu'à l'origine et je rajoute "d" à la fin, comme vtom"d" de mon user
# ---------------------
# Demons tcp Visual TOM
# ---------------------
tomDBdd 40001/tcp
bdaemond 40004/tcp
vtserverd 40007/tcp
vtnotifierd 40008/tcp
vtsgbdd 40009/tcp
vthttpdd 40080/tcp
vtmanagerd 40000/tcp
</code></pre></div></div>

<p>Et je personnalise le <code class="language-plaintext highlighter-rouge">.personalport_rc</code> dans le répertoire home de <code class="language-plaintext highlighter-rouge">vtomd</code> :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(vtomd)/usr/vtomd$ cat .personalport_rc
[ports]
tomDBd:tomDBdd
bdaemon:bdaemond
vtserver:vtserverd
vtmanager:vtmanagerd
vtnotifier:vtnotifierd
vtsgbd:vtsgbdd
vthttpd:vthttpdd
</code></pre></div></div>

<p>Merci à Serge D, pour l’inspiration et l’astuce que je ne connaissais pas.</p>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/variables-environnement-avec-vtom/">Les variables d'environnement avec VTOM</a></h4>
      <p><p>unix : si ce n’est à l’intérieur des scripts même, les variables d’environnement sont souvent regroupées à un seul endroit dans les fichiers de démarrage (et sont disponibles pour l’ensemble des scripts)</p>

<ul>
  <li>ces fichiers de démarrage (startup files) peuvent être différents selon les shells utilisés : <a href="https://kb.iu.edu/d/abdy">Lien vers un article clair et précis sur ces fichiers</a> / <a href="https://virtual-thom.github.io/archives/wp-content/uploads/startup_files_shells.pdf">lien alternatif</a></li>
  <li>Si on ne devait retenir qu’une chose, ce serait ces fichiers du répertoire <code class="language-plaintext highlighter-rouge">home</code> des utilisateurs de soumission selon les shells :
    <ul>
      <li>ksh, sh, bash : <code class="language-plaintext highlighter-rouge">.profile</code></li>
      <li>csh, tcsh : <code class="language-plaintext highlighter-rouge">.cshrc</code></li>
      <li>zsh : <code class="language-plaintext highlighter-rouge">.zprofile</code></li>
    </ul>
  </li>
  <li>
    <p>les variables d’environnement exportées sur la session de l’utilisateur d’administration (en général <code class="language-plaintext highlighter-rouge">vtom</code>) sont prises en compte lors du démarrage du client VTOM (<code class="language-plaintext highlighter-rouge">adminc</code> ou <code class="language-plaintext highlighter-rouge">start_client</code>)</p>

    <p>Résultat : j’ai des gens “bien intentionnés” qui m’ont surchargé le <code class="language-plaintext highlighter-rouge">.profile</code> du user <code class="language-plaintext highlighter-rouge">vtom</code> avec des variables d’env qui n’avaient rien à faire là</p>

    <p>Au cas où, il faut bien recharger le profil par ex. <code class="language-plaintext highlighter-rouge">. .profile</code> avant de relancer le client si vous avez apporté des modifications sur le .profile de vtom</p>
  </li>
</ul>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/filtre-xsl-vtexport-xml/">Ultimate tlist filter VTOM ! Filtre XSL du vtexport XML</a></h4>
      <p><p>Merci à JOEY de m’avoir inspriré ! :)</p>

<h1 id="liste-des-filtres-xsl-que-je-créé-au-fil-des-besoins">Liste des filtres XSL que je créé au fil des besoins</h1>

<ul>
  <li><a href="https://virtual-thom.github.io/archives/wp-content/uploads/GetParentJob.xsl">Tous les jobs VTOM, avec filtre sur le script, affichage csv unite soumission, job, parents</a></li>
  <li><a href="https://virtual-thom.github.io/archives/wp-content/uploads/ResourcesAll.xsl">Toutes les ressources VTOM</a></li>
  <li><a href="https://virtual-thom.github.io/archives/wp-content/uploads/JobsAll.xsl">Tous les jobs VTOM</a></li>
  <li><a href="https://virtual-thom.github.io/archives/wp-content/uploads/JobsExpectedRes.xsl">Tous les jobs qui attendent une ressource VTOM</a></li>
  <li><a href="https://virtual-thom.github.io/archives/wp-content/uploads/ApplicationsExpectedRes.xsl">Tous les applications qui attendent une ressource VTOM</a></li>
  <li><a href="https://virtual-thom.github.io/archives/wp-content/uploads/add_comm_graph_job.xsl">Rajouter le commentaire sur le noeud graphique job - sortie XML - ex de keep CDATA</a></li>
</ul>
</p>
      
          <a href="/archives/filtre-xsl-vtexport-xml/">Article complet ici</a>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/html-mail-anchor-link-id-name-outlook/">Anchor lien id name dans un mail HTML Outlook</a></h4>
      <p><p>Sur Outlook, pour un mail au format HTML avec des liens anchor de type <code class="language-plaintext highlighter-rouge">&lt;a href="#versid"&gt;...</code> vers <code class="language-plaintext highlighter-rouge">&lt;div id="versid"&gt;...</code> ne fonctionne pas chez moi.</p>

<p>Seul le href <code class="language-plaintext highlighter-rouge">#top</code> ou <code class="language-plaintext highlighter-rouge">#haut</code> selon la langue fonctionne (sans même avoir de conteneur avec cet id).</p>

<p>Ce qui fonctionne dans mon contexte, c’est de remplacer (ou d’ajouter) un tag <code class="language-plaintext highlighter-rouge">&lt;a name="versid"&gt;&lt;/a&gt;</code> juste avant le conteneur de destination.</p>

<p>Ca donne :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;a href="#bonjour"&gt;lien classique&lt;/a&gt;
&lt;p&gt;du texte&lt;/p&gt;
...
&lt;a name="bonjour"&gt;&lt;/a&gt;
&lt;div id="bonjour"&gt;
mon div etc.
&lt;/div&gt;
</code></pre></div></div>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/formules-excel/">Formules excel</a></h4>
      <p><p>Recherche dans une feuille qui check si une de ces colonnes (test de chaque ligne d’une colonne IP Adresse) est présente dans deux feuilles différentes (correspondance adresse)</p>

<p>Les formules présentes pourraient être utile pour :</p>
<ul>
  <li>supprimer une retour chariot, saut de ligne, d’une cellule à plusieurs lignes</li>
  <li>trouver des valeurs identiques dans des colonnes différentes</li>
  <li>modifier la valeur d’une cellule</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>=SI.NON.DISP(
  SI.NON.DISP(
    SI.NON.DISP(
      RECHERCHEV(
        GAUCHE(
          SUBSTITUE([@adresses];"0.0.0.0";"");
          CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";"")) - 1
        );
        LastExec!$S:$S;
        1;
        FAUX
      );
      RECHERCHEV(
        GAUCHE(
          SUBSTITUE([@adresses];"0.0.0.0";"");
          CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";"")) - 1
        );
        Tableau2[[#Tout];[IP]:[IP]];1;FAUX
      )
    );
    SI.NON.DISP(
      RECHERCHEV(
        GAUCHE(
          DROITE(
            SUBSTITUE([@adresses];"0.0.0.0";"");
            CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";""))
          );
          CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";"")) - 1
        );
        LastExec!$S:$S;
        1;
        FAUX
      );
      RECHERCHEV(
        GAUCHE(
          DROITE(
            SUBSTITUE([@adresses];"0.0.0.0";"");
            CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";""))
          );
          CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";"")) - 1
        );
        Tableau2[[#Tout];[IP]:[IP]];
        1;
        FAUX
      )
    )
  );
  SI.NON.DISP(
    RECHERCHEV(
      GAUCHE(
        DROITE(
          DROITE(
            SUBSTITUE([@adresses];"0.0.0.0";"");
            CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";""))
          );
          CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";""))
        );
        CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";"")) - 1
      );
      LastExec!$S:$S;
      1;
      FAUX
    );
    RECHERCHEV(
      GAUCHE(
        DROITE(
          DROITE(
            SUBSTITUE([@adresses];"0.0.0.0";"");
            CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";""))
          );
          CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";""))
        );
        CHERCHE(CAR(10);SUBSTITUE([@adresses];"0.0.0.0";"")) - 1
      );
      Tableau2[[#Tout];[IP]:[IP]];
      1;
      FAUX
    )
  )
)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>=SI.NON.DISP(
  SI.NON.DISP(
    RECHERCHEV(
      [@adresses];
      Tableau1[[#Tout];[IP]:[IP]];
      1;
      FAUX
    );
    RECHERCHEV(
      [@adresses];
      Tableau2[[#Tout];[IP]:[IP]];
      1;
      FAUX
    )
  );
  SI.NON.DISP(
    SI.NON.DISP(
      RECHERCHEV(
        GAUCHE(
          [@adresses];
          CHERCHE(CAR(10);[@adresses]) - 1
        );
        Tableau1[[#Tout];[IP]:[IP]];
        1;
        FAUX
      );
      RECHERCHEV(
        GAUCHE(
          [@adresses];
          CHERCHE(CAR(10);[@adresses]) - 1
        );
        Tableau2[[#Tout];[IP]:[IP]];
        1;
        FAUX
      )
    );
    SI.NON.DISP(
      SI.NON.DISP(
        RECHERCHEV(
          GAUCHE(
            DROITE(
              [@adresses];
              CHERCHE(CAR(10);[@adresses])
            );
            CHERCHE(
              CAR(10);
              DROITE(
                [@adresses];
                CHERCHE(CAR(10);[@adresses])
              )
            ) - 1
          );
          Tableau1[[#Tout];[IP]:[IP]];
          1;
          FAUX
        );
        RECHERCHEV(
          GAUCHE(
            DROITE(
              [@adresses];
              CHERCHE(CAR(10);[@adresses])
            );
            CHERCHE(
              CAR(10);
              DROITE(
                [@adresses];
                CHERCHE(CAR(10);[@adresses])
              )
            ) - 1
          );
          Tableau2[[#Tout];[IP]:[IP]];
          1;
          FAUX
        )
      );
      SI.NON.DISP(
        RECHERCHEV(
          GAUCHE(
            DROITE(
              DROITE(
                [@adresses];
                CHERCHE(CAR(10);[@adresses])
              );
              CHERCHE(CAR(10);DROITE(
                [@adresses];
                CHERCHE(CAR(10);[@adresses])
              ))
            );
            CHERCHE(
              CAR(10);
              DROITE(
                DROITE(
                  [@adresses];
                  CHERCHE(CAR(10);[@adresses])
                );
                CHERCHE(CAR(10);DROITE(
                  [@adresses];
                  CHERCHE(CAR(10);[@adresses])
                ))
              )
            ) - 1
          );
          Tableau1[[#Tout];[IP]:[IP]];
          1;
          FAUX
        );
        RECHERCHEV(
          GAUCHE(
            DROITE(
              DROITE(
                [@adresses];
                CHERCHE(CAR(10);[@adresses])
              );
              CHERCHE(CAR(10);DROITE(
                [@adresses];
                CHERCHE(CAR(10);[@adresses])
              ))
            );
            CHERCHE(
              CAR(10);
              DROITE(
                DROITE(
                  [@adresses];
                  CHERCHE(CAR(10);[@adresses])
                );
                CHERCHE(CAR(10);DROITE(
                  [@adresses];
                  CHERCHE(CAR(10);[@adresses])
                ))
              )
            ) - 1
          );
          Tableau2[[#Tout];[IP]:[IP]];
          1;
          FAUX
        )
      )
    )
  )
)
</code></pre></div></div>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/faq-date-december/">FAQ VTOM Dates - Dec</a></h4>
      <p><p>Des fois, j’ai des questions en direct par e-mail. Je me dis que ça pourrait être bien de poster les questions / réponses.</p>

<h1 id="unlock-a-locked-date">unlock a locked date</h1>

<p>Unlock a locked date in command line is not possible, and should stay a human action.
If you ask yourself how to automate and unlock a locked date (or all) without an human action, may be your job(s) should not lock the date in the first place (in jobs’s definition).</p>

<p>Of course you can always unlock a locked date by setting all jobs which are blocking this date to OK.</p>

<p>You can list all locked date with this command :
<code class="language-plaintext highlighter-rouge">tlist blocage</code></p>

<p>Or check the status of a date : 
<code class="language-plaintext highlighter-rouge">tchkdate /nom="your_datename"</code></p>

<p>Then loop over all blocking jobs and set to OK :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vtom@044d119e1768:/mnt/workspace$ vtaddjob /nom="exploitation/appli_test/job1" /status="te"
Modification du traitement exploitation/appli_test/job1 terminee (27ms).
</code></pre></div></div>

<h1 id="retrieve-corresponding-environmentapplication-for-a-specific-date">retrieve corresponding environment/application for a specific date?</h1>

<p><code class="language-plaintext highlighter-rouge">tlist [-f &lt;env&gt;[/&lt;app&gt;[/&lt;job&gt;]]] jobs</code> should do the trick.</p>

<p>Something like that :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tlist jobs | sort -k"2,2" -u | grep -w "your_date"
sort -k"2,2" -u to sort on applications and get unique row for an application
grep -w "your_date" to filter with your specific date


vtom@044d119e1768:~$ tlist -f exploitation jobs | sort -k"2,2" -u | grep -w "date_exp"
exploitation            appli_test              job1                    client_local            date_exp
</code></pre></div></div>

<p>Also, you can do a csv list of whatever column you want  with a vtexport and an preformatted xsl file.</p>

<p>First compile the <a href="https://virtual-thom.github.io/archives/wp-content/uploads/Stylizer.java">Stylizer.java</a> class : <code class="language-plaintext highlighter-rouge">javac Stylizer.java</code></p>

<p>Export your VTOM base in XML :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vtexport -x [-f &lt;env&gt;[/&lt;app&gt;[/job]]] &gt; /somepath/your_vtexport.xml
</code></pre></div></div>

<p>Filter the XML with the <a href="https://virtual-thom.github.io/archives/wp-content/uploads/filter_env_app_date.xsl">XSL file</a> : <code class="language-plaintext highlighter-rouge">java Stylizer filter_env_app_date.xsl your_vtexport.xml</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vtom@044d119e1768:/mnt/workspace$ javac Stylizer.java
vtom@044d119e1768:/mnt/workspace$ ls
Stylizer.class  Stylizer.java
vtom@044d119e1768:/mnt/workspace$ java Stylizer filter_env_app_date.xsl /var/tmp/vtexport.xml
exploitation£appli_test£date_exp£
</code></pre></div></div>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/status-vtexport/">Statuts dans le vtexport</a></h4>
      <p><p>Code couleur des statuts dans VTOM.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    R = ENCOURS       #05FAFA
    X = ENDIFFICULTE  #FFC800
    W = AVENIR        #FAFF14
    F = TERMINE       #14FF14
    E = ENERREUR      #FA0000
    D = DEPLANIFIE    #C3C3C3
    U = NONPLANIFIE   #FAFAFA
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"R"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"5,250,250"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"ENCOURS"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"X"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"255,200,0"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"ENDIFFICULTE"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"W"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"250,255,20"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"AVENIR"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"F"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"20,255,20"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"TERMINE"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"E"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"250,0,0"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"ENERREUR"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"D"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"195,195,195"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"DEPLANIFIE"</span><span class="p">},</span><span class="w">
  </span><span class="nl">"U"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"rvb"</span><span class="p">:</span><span class="s2">"250,250,250"</span><span class="p">,</span><span class="nl">"nom"</span><span class="p">:</span><span class="s2">"NONPLANIFIE"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Et la column vtstatus dans la table vt_stats_job : (index de 0 à 6)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let Status = ["", "AVENIR ", "ENCOURS", "TERMINE", "ENERREUR", "DEPLANIFIE", "NONPLANIFIE"]
# mode d'exécution
let VTOMModeExec = ["", "Exéc", "Simu", "Test", "Stop", "Job"]
</code></pre></div></div>
</p>
      
    </div>

  </li>
  
  
  
  <li>
    <div class="card">
      <h4><a class="post-link" href="/archives/curl-sftp-avec-mot-de-passe/">Curl sftp avec mot de passe</a></h4>
      <p><p>Je ne sais pas s’il existe une raison justifiant le fait de faire du sftp non sécurisé (mot de passe en clair, sans certificat SSL) mais des fois, il ne faut pas trop chercher à comprendre.</p>

<p>Donc sachez que si on vous dit, “plus de FTP, il faut faire du SFTP” et qu’on vous dit, “ah non, impossible de mettre en place des clés privées, publiques”, vous pouvez scripter du sftp avec curl avec le user / mot de passe !</p>

<h2 id="lister-afficher-récupérer">Lister, afficher, récupérer</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># la racine de connexion du user
curl -k -u user:mdp sftp://host

# un répertoire en particulier (ne pas oublier le dernier /)
curl -k -u user:mdp sftp://host/MyDir/

# affiche le contenu du fichier à l'écran
curl -k -u user:mdp sftp://host/monFichier

# récupérer un fichier 
curl -k -u user:mdp sftp://host/monFichier -o /monRep/monFichier
</code></pre></div></div>

<h2 id="les-options-intéressantes">les options intéressantes</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-v                  | mode verbose, pratique pour debug
-u user:mdp         | pour l'authentification
sftp://@IP:port     | protocole peut être sftp, ftp, http par exemple
-Q "CMD dir/file"   | exécution de la commande sur le fichier (on part de la racine de connexion user)
-k ou --insecure    | (SSL) This option explicitly allows curl to perform "insecure" SSL connections and transfers
                    | problème résolu de "curl: (51) SSL peer certificate or SSH remote key was not OK"
-o dir/file         | redirige la sortie dans le fichier dir/file
</code></pre></div></div>

<h2 id="quelques-commandes-ftp">Quelques commandes FTP</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># delete
curl -u user:mdp ftp://host -Q 'DELE MyDir/FileTodelete'
# rename
curl -u user:mdp ftp://host -Q 'RNFR MyDir/FileToRename' -Q 'RNTO MyDir/FileRenamed'
</code></pre></div></div>

<h2 id="quelques-commandes-sftp">Quelques commandes SFTP</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># delete
curl -k -u user:mdp sftp://host -Q 'rm MyDir/FileTodelete'

# rename
curl -k -u user:mdp sftp://host -Q 'rename MyDir/FileToRename MyDir/FileRenamed'

# on peut cumuler la commande + le listage (attention, par défaut, la commande est effectuée avant)
# supprimer le rep' /var/tmp/MyDir et lister le contenu de /var/tmp/
curl -k -u user:mdp sftp://host/var/tmp/ -Q 'rmdir /var/tmp/MyDir'

man curl
 -Q, --quote &lt;command&gt;
  (FTP/SFTP)  Send  an arbitrary command to the remote FTP or SFTP server. Quote commands are sent BEFORE the transfer takes place (just
  after the initial PWD command in an FTP transfer, to be exact). To make commands take place after a successful transfer,  prefix  them
  with  a  dash '-'.  To make commands be sent after curl has changed the working directory, just before the transfer command(s), prefix
  the command with a '+' (this is only supported for FTP). You may specify any number of commands. If the server returns failure for one
  of  the  commands,  the  entire  operation will be aborted. You must send syntactically correct FTP commands as RFC 959 defines to FTP
  servers, or one of the commands listed below to SFTP servers.  This option can be used multiple times. When speaking to an FTP server,
  prefix the command with an asterisk (*) to make curl continue even if the command fails as by default curl will stop at first failure.

  SFTP  is  a binary protocol. Unlike for FTP, curl interprets SFTP quote commands itself before sending them to the server.  File names
  may be quoted shell-style to embed spaces or special characters.  Following is the list of all supported SFTP quote commands:

  chgrp group file
         The chgrp command sets the group ID of the file named by the file operand to the group ID specified by the group  operand.  The
         group operand is a decimal integer group ID.
  chmod mode file
         The chmod command modifies the file mode bits of the specified file. The mode operand is an octal integer mode number.
  chown user file
         The  chown  command sets the owner of the file named by the file operand to the user ID specified by the user operand. The user
         operand is a decimal integer user ID.
  ln source_file target_file
         The ln and symlink commands create a symbolic link at the target_file location pointing to the source_file location.

  mkdir directory_name
         The mkdir command creates the directory named by the directory_name operand.
  pwd    The pwd command returns the absolute pathname of the current working directory.
  rename source target
         The rename command renames the file or directory named by the source operand to the destination path named by the target  oper‐
         and.
  rm file
         The rm command removes the file specified by the file operand.
  rmdir directory
         The rmdir command removes the directory entry specified by the directory operand, provided it is empty.
  symlink source_file target_file
         See ln.

</code></pre></div></div>

<h2 id="bug-rencontré-sur-aix">Bug rencontré sur AIX</h2>

<ul>
  <li>OpenSSL version mismatch. Built against 1000105f, you have 100000bf</li>
</ul>

<p>Merci JM F. pour celle-là ;)</p>

<p><code class="language-plaintext highlighter-rouge">export LIBPATH=:/usr/lib:$LIBPATH</code></p>

<ul>
  <li>curl: (51) SSL peer certificate or SSH remote key was not OK</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">-k ou --insecure</code></p>

<h2 id="sinon-curl-cest-aussi-">sinon curl c’est aussi …</h2>

<p>Sympa pour les API avec un retour JSON par exemple : <a href="https://virtual-thom.github.io/api-vtom-web-access/">voir mon article sur le WebAccess</a></p>

<p>et pour plein d’autres fonctionnalités sympa (comme récupérer les entêtes d’une requête HTML)
<a href="https://fr.wikipedia.org/wiki/CURL">client URL</a></p>
</p>
      
    </div>

  </li>
  
  
</ul>
<!-- Pagination links -->
<nav>
  <ul class="pagination">
    
    <li>
      <a href="/page6" class="Précédant">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
      
    <li>
      <a href="/archives/index.html">1</a>
    </li>
      
    <li>
      <a
        href="/archives/page2">2</a>
    </li>
      
    <li>
      <a
        href="/archives/page3">3</a>
    </li>
      
    <li>
      <a
        href="/archives/page4">4</a>
    </li>
      
    <li>
      <a
        href="/archives/page5">5</a>
    </li>
      
    <li>
      <a
        href="/archives/page6">6</a>
    </li>
      
    <li class="active">
      <span>7</span>
    </li>
      
    <li>
      <a
        href="/archives/page8">8</a>
    </li>
      
    <li>
      <a
        href="/archives/page9">9</a>
    </li>
      
    <li>
      <a
        href="/archives/page10">10</a>
    </li>
      
    <li>
      <a
        href="/archives/page11">11</a>
    </li>
      
    <li>
      <a
        href="/archives/page12">12</a>
    </li>
      
    <li>
      <a
        href="/archives/page13">13</a>
    </li>
      
    <li>
      <a
        href="/archives/page14">14</a>
    </li>
      
    <li>
      <a href="/page8" aria-label="Suivant">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    
  </ul>
</nav>

      <footer id="site-footer">
    <div>&copy;<a href="https://github.com/virtual-thom/" title="Github Virtual-Thom">Virtual-Thom</a></div>
    <div>
            <a href="https://virtual-thom.github.io/archives/plan" title="Plan du site">sitemap</a> | <a href="https://virtual-thom.github.io/about" rel="publisher author" title="Curriculum vitae Thom">A propos</a>
    </div>
    <div>
        <a id="goto-site-header" href="#site-header" title="Retourner au début">&uArr; Top</a>
    </div>
    <div id="footer-disclaimer">
        <p>Avertissement : vous ne devez pas prendre pour argent comptant le contenu de ce site. Testez toujours la solution en environnement de test.</p>
        <p>Malgré le sérieux que je m'efforce de mettre dans le contenu de ces billets, je ne pourrai être tenu responsable d'éventuelles erreurs que cela pourrait engendrer.</p>
    </div>
    <div>
        <a class="hidden" href="https://virtual-thom.github.io/archives/sitemap.xml" title="SiteMap">sitemap</a>
    </div>
</footer>

    </div>
  </body>

</html>